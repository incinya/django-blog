<!doctype html>
<html>
<!--
author:lvlu
date:2018-07
desc:this demo is about blog. PLEASE NOTE:If you have trouble running it ,try any of the other demos or connect with auther.
A ny individuals and organizations and not for commercial use, professiona website for customized web site.
fix: fanxinghong
date: 2019-05
-->
<head>
    <meta charset="utf-8">
    <title>博客</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="/static/images/bitbug_favicon.ico" type="image/x-icon"/>
    <link href="/static/css/base.css" rel="stylesheet">
    <link href="/static/css/index.css" rel="stylesheet">
    <link href="/static/css/m.css" rel="stylesheet">
    <script src="/static/js/jquery.min.js" type="text/javascript"></script>
    <script src="/static/js/jquery.easyfader.min.js"></script>
    <script src="/static/js/scrollReveal.js"></script>
    <script src="/static/js/common.js"></script>

</head>

<body>


</body>
<script>
    var token = window.localStorage.getItem('dnblog_token');
    var username = window.localStorage.getItem('dnblog_user');
    var url = document.location.toString();
    var query_split = url.split('?');
    var query_set = '';
    if (query_split.length > 1) {
        query_set = query_split[1];
    }
    var arrUrl = url.split("//");
    //当前访问的博客博主
    var blog_username = arrUrl[1].split('/')[1];

    if (query_set) {
        var get_url = "http://127.0.0.1:8000/v1/topics/" + blog_username + "?" + query_set;
    } else {
        var get_url = "http://127.0.0.1:8000/v1/topics/" + blog_username;
    }

    var html_body = '\n' +
        '<header id="header">\n' +
        'menu begin\n' +
        '<div class="menu">\n' +
        '<nav class="nav" id="topnav">\n' +
        '<h1 class="logo"><a href="index.html">个人博客</a></h1>\n' +
        '<li><a href="index.html">网站首页</a> </li>\n' +
        '<li><a href="list.html">文章列表</a>\n' +
        '<ul class="sub-nav">\n' +
        '<li><a href="list.html">Python</a></li>\n' +
        '<li><a href="list.html">python Web</a></li>\n' +
        '<li><a href="list.html">爬虫</a></li>\n' +
        '<li><a href="list.html">人工智能</a></li>\n' +
        '<li><a href="list.html">JS实例索引</a></li>\n' +
        '</ul>\n' +
        '</li>\n' +
        {#'<li><a href="photo.html">我的相册</a>\n' +#}
        '</li>\n' +
        '<li><a href="time.html">时间轴</a> </li>\n' +
        '<li><a href="gbook.html">留言</a> </li>\n' +
        '<li><a href="about.html">关于我</a> </li>\n' +
        '<li><a href="release.html">发表博客</a></li>\n' +
        '</nav>\n' +
        '</div>\n' +
        '<!--menu end-->\n' +
        '<a href="login.html" id="login" target="_blank">登录</a>\n' +
        '<a href="register.html" id="register" target="_blank">注册</a>\n' +
        '\n' +
        '<div id="mnav">\n' +
        '<h2><a href="index.html" class="mlogo">个人博客</a><span class="navicon"></span></h2>\n' +
        '<dl class="list_dl">\n' +
        '<dt class="list_dt"><a href="index.html">网站首页</a></dt>\n' +
        '<dt class="list_dt"><a href="#">文章列表</a></dt>\n' +
        '<dd class="list_dd">\n' +
        '<ul>\n' +
        '<li><a href="list.html">Python</a></li>\n' +
        '<li><a href="list.html">python Web</a></li>\n' +
        '<li><a href="list.html">爬虫</a></li>\n' +
        '<li><a href="list.html">人工智能</a></li>\n' +
        '<li><a href="list.html">JS实例索引</a></li>\n' +
        '</ul>\n' +
        '</dd>\n' +
        {#'<dt class="list_dt"><a href="photo.html">我的相册</a></dt>\n' +#}
        '<dt class="list_dt"><a href="time.html">时间轴</a></dt>\n' +
        '<dt class="list_dt"><a href="gbook.html">留言</a></dt>\n' +
        '<dt class="list_dt"><a href="about.html">关于我</a></dt>\n' +
        '</dl>\n' +
        '</div>\n' +
        '<!--mnav end-->\n' +
        '</header>\n' +
        '<div class="pagebg photo"></div>\n' +
        '<div class="container">\n' +
        '<h1 class="t_nav"><span>好咖啡要和朋友一起品尝，好的故事也要和人一起分享。</span>\n' +
        {#'<p class="n1">我的相册</p>\n' +#}
        '</h1>\n' +
        '\n' +
        '\n' +
        '<div class="share">\n' +
        '<ul>\n' +
        '<li>\n' +
        '<div class="shareli"><a href="#" target="_blank"> <i><img src="/static/images/toppic01.jpg"></i>\n' +
        '<h2><b>python中打开TXT文件报错!</b></h2>\n' +
        '<span>喜欢 | 190</span>\n' +
        '</a></div>\n' +
        '</li>\n' +
        '<li>\n' +
        '<div class="shareli"><a href="#" target="_blank"> <i><img src="/static/images/toppic02.jpg"></i>\n' +
        '<h2><b>Python基础学习总结（一）</b></h2>\n' +
        '<span>喜欢 | 190</span>\n' +
        '</a></div>\n' +
        '</li>\n' +
        '<li>\n' +
        '<div class="shareli"><a href="#" target="_blank"> <i><img src="/static/images/banner01.jpg"></i>\n' +
        '<h2><b>Sublime text3作为Python的IDE不能正常使用input和raw_input</b></h2>\n' +
        '<span>喜欢 | 190</span>\n' +
        '</a></div>\n' +
        '</li>\n' +
        '<li>\n' +
        '<div class="shareli"><a href="#" target="_blank"> <i><img src="/static/images/b.jpg"></i>\n' +
        '<h2><b>python学习网址以及笔记</b></h2>\n' +
        '<span>喜欢 | 190</span>\n' +
        '</a></div>\n' +
        '</li>\n' +
        '<li>\n' +
        '<div class="shareli"><a href="#" target="_blank"> <i><img src="/static/images/b.jpg"></i>\n' +
        '<h2><b>linux升级py3,安装pip,svn</b></h2>\n' +
        '<span>喜欢 | 190</span>\n' +
        '</a></div>\n' +
        '</li>\n' +
        '<li>\n' +
        '<div class="shareli"><a href="#" target="_blank"> <i><img src="/static/images/banner02.jpg"></i>\n' +
        '<h2><b>Python基础概念_2_基础概念</b></h2>\n' +
        '<span>喜欢 | 190</span>\n' +
        '</a></div>\n' +
        '</li>\n' +
        '<li>\n' +
        '<div class="shareli"><a href="#" target="_blank"> <i><img src="/static/images/c.jpg"></i>\n' +
        '<h2><b>python环境安装和在eclipse中插件的使用!</b></h2>\n' +
        '<span>喜欢 | 190</span>\n' +
        '</a></div>\n' +
        '</li>\n' +
        '<li>\n' +
        '<div class="shareli"><a href="#" target="_blank"> <i><img src="/static/images/banner02.jpg"></i>\n' +
        '<h2><b>python初步实现word2vec</b></h2>\n' +
        '<span>喜欢 | 190</span>\n' +
        '</a></div>\n' +
        '</li>\n' +
        '</ul>\n' +
        '</div>\n' +
        '\n' +
        '<div class="pagelist"><a title="Total record">&nbsp;<b>上一页</b> </a>&nbsp;&nbsp;&nbsp;<b>1</b>&nbsp;<a href="#">2</a>&nbsp;<a\n' +
        'href="#">下一页</a>&nbsp;<a href="#">尾页</a></div>\n' +
        '\n' +
        '\n' +
        '</div>\n' +
        '\n' +
        '<footer id="footer">\n' +
        '<p>Design by <a href=# target="_blank">皮爷の博客</a> <a href="#">备XXXXXXXXX号-1</a></p>\n' +
        '</footer>\n' +
        '<a href="#" class="cd-top">Top</a>';


    $.ajax({
        // 请求方式
        type: "get",
        // url
        url: get_url,
        beforeSend: function (request) {
            request.setRequestHeader("Authorization", token);

        },
        success: function (result) {
            if (200 == result.code) {
                //alert("请求成功");
                header_html = makeHeader(blog_username, username);
                html_body += header_html
            }
            $('body').html(html_body);
            html_body += '</div>'
            /*mnav dl open*/
            var oH2 = document.getElementsByTagName('h2')[0];
            var oUl = document.getElementsByTagName('dl')[0];
            oH2.onclick = function () {
                var style = oUl.style;
                style.display = style.display == 'block' ? 'none' : 'block';
                oH2.className = style.display == 'block' ? 'open' : '';
            };
            /*mnav dl open*/
            var oH2 = document.getElementsByTagName('h2')[0];
            var oUl = document.getElementsByTagName('dl')[0];
            oH2.onclick = function () {
                var style = oUl.style;
                style.display = style.display == 'block' ? 'none' : 'block';
                oH2.className = style.display == 'block' ? 'open' : '';
            };
            loginOut();
        }
    })


</script>


</html>
